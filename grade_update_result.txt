<h2>📊 Update Grade Logic Based on Purchase Amount</h2><p>เปลี่ยน logic การจัด CustomerGrade ตามยอดซื้อใหม่</p>Database connection attempt 1 failed: SQLSTATE[HY000] [2002] No connection could be made because the target machine actively refused it
Database connection attempt 2 failed: SQLSTATE[HY000] [2002] No connection could be made because the target machine actively refused it
<div style='background: #f8d7da; padding: 15px; border-radius: 5px;'>Database connection attempt 3 failed: SQLSTATE[HY000] [2002] No connection could be made because the target machine actively refused it
❌ <strong>Error:</strong> Database connection failed. Please contact system administrator.</div><h3>🚀 Impact of New Grade Logic</h3><div style='background: #d4edda; padding: 15px; border-radius: 5px;'>✅ <strong>Grade logic updated successfully!</strong><br>📊 <strong>New Classification:</strong><br>- Grade A (VIP): ลูกค้าที่ซื้อมากกว่า 10,000 บาท<br>- Grade B (ดี): ลูกค้าที่ซื้อ 5,000-9,999 บาท<br>- Grade C (ปกติ): ลูกค้าที่ซื้อ 2,000-4,999 บาท<br>- Grade D (ต่ำ): ลูกค้าที่ซื้อน้อยกว่า 2,000 บาท<br><br>🌡️ <strong>Temperature updated accordingly:</strong><br>- A = HOT (ลูกค้า VIP), B+C = WARM (ลูกค้าปกติ), D = COLD (ต้องติดตาม)<br></div><h3>🔗 Quick Links</h3><a href='pages/admin/distribution_basket.php'>🗃️ Distribution Basket</a> | <a href='pages/admin/waiting_basket.php'>⏳ Waiting Basket</a> | <a href='pages/admin/intelligence_system.php'>🧠 Intelligence System</a><div style='margin-top: 20px; padding: 10px; background: #f8f9fa; border-radius: 5px; border-left: 4px solid #007bff;'><strong>📊 Grade Logic Updated Successfully!</strong><br>New purchase-based classification: A>10K, B=5K-9.99K, C=2K-4.99K, D<2K<br>All intelligence and basket systems now use the new logic! 🎉</div>CRITICAL: Database connection failed after 3 attempts
